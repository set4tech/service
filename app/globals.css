@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Spacing convention: default to 4/8/16px rhythm */
  .stack-sm > * + * { @apply mt-2; }   /* 8px */
  .stack-md > * + * { @apply mt-4; }   /* 16px */
  .stack-lg > * + * { @apply mt-8; }   /* 32px */

  .card       { @apply bg-white rounded-lg shadow-card p-4 md:p-6; }
  .card-muted { @apply rounded-lg bg-gray-50 p-4; }

  .btn { @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition;
         @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-600 focus-visible:ring-offset-2; }
  .btn-primary   { @apply btn bg-brand-600 text-white hover:bg-brand-700 disabled:opacity-50; }
  .btn-secondary { @apply btn border border-gray-300 bg-white hover:bg-gray-50; }
  .btn-danger    { @apply btn text-red-600 hover:text-red-900 hover:bg-red-50; }
  .btn-icon      { @apply inline-flex items-center justify-center rounded-md border border-gray-300;
                   @apply p-2 text-sm hover:bg-gray-50;
                   @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-600 focus-visible:ring-offset-2;
                   @apply min-w-[44px] min-h-[44px]; }

  .input    { @apply block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm
                     placeholder-gray-400 shadow-sm focus:border-brand-600 focus:ring-2 focus:ring-brand-600; }
  .select   { @apply input; }
  .textarea { @apply input h-40 font-mono; }

  .badge           { @apply inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold; }
  .badge-success   { @apply badge bg-green-100 text-green-800; }
  .badge-active    { @apply badge bg-blue-100 text-blue-800; }
  .badge-pending   { @apply badge bg-yellow-100 text-yellow-800; }

  .table-base thead th { @apply px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider; }
  .table-base tbody td { @apply px-6 py-4 whitespace-nowrap; }

  /* Progress bar using a CSS var to avoid inline width calc */
  .progress { @apply h-2 bg-gray-200 rounded; }
  .progress > .bar { width: var(--value, 0%); @apply h-2 bg-brand-600 rounded; }
}